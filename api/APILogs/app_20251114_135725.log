2025-11-14 13:57:27.868 +01:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-14 13:57:28.006 +01:00 [INF] Now listening on: http://localhost:5082
2025-11-14 13:57:28.010 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-14 13:57:28.010 +01:00 [INF] Hosting environment: Development
2025-11-14 13:57:28.011 +01:00 [INF] Content root path: C:\Users\Admin\OneDrive - OsloMet\FinalExamITPE3200\EXAMFAM\api
2025-11-14 13:58:11.582 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/Auth/register - null null
2025-11-14 13:58:11.633 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:11.645 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/Auth/register - 204 null null 65.1942ms
2025-11-14 13:58:11.648 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5082/api/Auth/register - application/json 92
2025-11-14 13:58:11.653 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:11.767 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Register (api)'
2025-11-14 13:58:11.799 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(api.DTOs.RegisterDto) on controller api.Controllers.AuthController (api).
2025-11-14 13:58:12.425 +01:00 [INF] [AuthController] user lerer123 registered with role Teacher
2025-11-14 13:58:12.432 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 13:58:12.470 +01:00 [INF] Executed action api.Controllers.AuthController.Register (api) in 666.6756ms
2025-11-14 13:58:12.470 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Register (api)'
2025-11-14 13:58:12.476 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5082/api/Auth/register - 200 53 application/json; charset=utf-8 827.609ms
2025-11-14 13:58:16.903 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/Auth/login - null null
2025-11-14 13:58:16.905 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:16.905 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/Auth/login - 204 null null 1.82ms
2025-11-14 13:58:16.907 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5082/api/Auth/login - application/json 46
2025-11-14 13:58:16.908 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:16.910 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Login (api)'
2025-11-14 13:58:16.918 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(api.DTOs.LoginDto) on controller api.Controllers.AuthController (api).
2025-11-14 13:58:17.103 +01:00 [INF] [AuthController] JWT token created for lerer123 with roles Teacher
2025-11-14 13:58:17.146 +01:00 [INF] [AuthController] user authorised for lerer123
2025-11-14 13:58:17.147 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 13:58:17.149 +01:00 [INF] Executed action api.Controllers.AuthController.Login (api) in 231.2701ms
2025-11-14 13:58:17.149 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Login (api)'
2025-11-14 13:58:17.150 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5082/api/Auth/login - 200 681 application/json; charset=utf-8 242.5981ms
2025-11-14 13:58:20.483 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - null null
2025-11-14 13:58:20.491 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:20.496 +01:00 [INF] Executing endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:20.500 +01:00 [INF] Route matched with {action = "QuizList", controller = "QuizAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QuizList() on controller api.Controllers.QuizAPIController (api).
2025-11-14 13:58:20.640 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-14 13:58:20.711 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[api.Models.Quiz, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:20.721 +01:00 [INF] Executed action api.Controllers.QuizAPIController.QuizList (api) in 221.6467ms
2025-11-14 13:58:20.722 +01:00 [INF] Executed endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:20.722 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - 200 377 application/json; charset=utf-8 239.169ms
2025-11-14 13:58:20.725 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - null null
2025-11-14 13:58:20.727 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:20.727 +01:00 [INF] Executing endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:20.727 +01:00 [INF] Route matched with {action = "QuizList", controller = "QuizAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QuizList() on controller api.Controllers.QuizAPIController (api).
2025-11-14 13:58:20.733 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[api.Models.Quiz, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:20.734 +01:00 [INF] Executed action api.Controllers.QuizAPIController.QuizList (api) in 6.6461ms
2025-11-14 13:58:20.734 +01:00 [INF] Executed endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:20.734 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - 200 377 application/json; charset=utf-8 9.0924ms
2025-11-14 13:58:23.870 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - null null
2025-11-14 13:58:23.872 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:23.873 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - 204 null null 2.9376ms
2025-11-14 13:58:23.877 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - null null
2025-11-14 13:58:23.881 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 13:58:23.881 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:23.881 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:23.881 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - 204 null null 4.6615ms
2025-11-14 13:58:23.969 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:58:23.973 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:58:23.984 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:23.985 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 11.714ms
2025-11-14 13:58:23.985 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:58:23.985 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 104.5586ms
2025-11-14 13:58:23.988 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 13:58:23.988 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:23.990 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:58:23.990 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:58:23.998 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:23.998 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 8.4593ms
2025-11-14 13:58:23.999 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:58:23.999 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 11.1929ms
2025-11-14 13:58:24.736 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/2 - null null
2025-11-14 13:58:24.736 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:24.736 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/2 - null null
2025-11-14 13:58:24.736 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:24.737 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/2 - 204 null null 0.4699ms
2025-11-14 13:58:24.737 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/2 - 204 null null 0.5086ms
2025-11-14 13:58:24.740 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/2 - application/json null
2025-11-14 13:58:24.740 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:24.748 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 13:58:24.752 +01:00 [INF] Route matched with {action = "GetAttempts", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAttempts(Int32) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:58:24.780 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-14 13:58:24.792 +01:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__quizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."QuizResultId", "u"."QuizId", "u"."Score", "u"."SubmittedAt", "u"."TimeUsedSeconds", "u"."UserName", "q"."QuizId", "q"."Title", "t"."QuestionId", "t"."ImageUrl", "t"."QuizId", "t"."Text", "t"."AnswerOptionId", "t"."IsCorrect", "t"."QuestionId0", "t"."Text0"
FROM "UserQuizResults" AS "u"
INNER JOIN "Quizzes" AS "q" ON "u"."QuizId" = "q"."QuizId"
LEFT JOIN (
    SELECT "q0"."QuestionId", "q0"."ImageUrl", "q0"."QuizId", "q0"."Text", "a"."AnswerOptionId", "a"."IsCorrect", "a"."QuestionId" AS "QuestionId0", "a"."Text" AS "Text0"
    FROM "Questions" AS "q0"
    LEFT JOIN "AnswerOptions" AS "a" ON "q0"."QuestionId" = "a"."QuestionId"
) AS "t" ON "q"."QuizId" = "t"."QuizId"
WHERE "u"."QuizId" = @__quizId_0
ORDER BY "u"."QuizResultId" DESC, "q"."QuizId", "t"."QuestionId"
2025-11-14 13:58:24.827 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'api.DAL.QuizDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-14 13:58:24.832 +01:00 [ERR] [QuizRepository] GetResultsForQuizAsync(2) failed: SQLite Error 1: 'no such column: u.SubmittedAt'.
2025-11-14 13:58:24.832 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizResultDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:24.834 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAttempts (api) in 81.7699ms
2025-11-14 13:58:24.835 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 13:58:24.835 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/2 - 200 2 application/json; charset=utf-8 95.1801ms
2025-11-14 13:58:24.837 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/2 - application/json null
2025-11-14 13:58:24.837 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:24.839 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 13:58:24.840 +01:00 [INF] Route matched with {action = "GetAttempts", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAttempts(Int32) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:58:24.843 +01:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[@__quizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."QuizResultId", "u"."QuizId", "u"."Score", "u"."SubmittedAt", "u"."TimeUsedSeconds", "u"."UserName", "q"."QuizId", "q"."Title", "t"."QuestionId", "t"."ImageUrl", "t"."QuizId", "t"."Text", "t"."AnswerOptionId", "t"."IsCorrect", "t"."QuestionId0", "t"."Text0"
FROM "UserQuizResults" AS "u"
INNER JOIN "Quizzes" AS "q" ON "u"."QuizId" = "q"."QuizId"
LEFT JOIN (
    SELECT "q0"."QuestionId", "q0"."ImageUrl", "q0"."QuizId", "q0"."Text", "a"."AnswerOptionId", "a"."IsCorrect", "a"."QuestionId" AS "QuestionId0", "a"."Text" AS "Text0"
    FROM "Questions" AS "q0"
    LEFT JOIN "AnswerOptions" AS "a" ON "q0"."QuestionId" = "a"."QuestionId"
) AS "t" ON "q"."QuizId" = "t"."QuizId"
WHERE "u"."QuizId" = @__quizId_0
ORDER BY "u"."QuizResultId" DESC, "q"."QuizId", "t"."QuestionId"
2025-11-14 13:58:24.851 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'api.DAL.QuizDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-14 13:58:24.852 +01:00 [ERR] [QuizRepository] GetResultsForQuizAsync(2) failed: SQLite Error 1: 'no such column: u.SubmittedAt'.
2025-11-14 13:58:24.852 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizResultDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:24.852 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAttempts (api) in 12.6308ms
2025-11-14 13:58:24.852 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 13:58:24.852 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/2 - 200 2 application/json; charset=utf-8 15.5439ms
2025-11-14 13:58:25.584 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 13:58:25.584 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:25.585 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:58:25.585 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:58:25.589 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:25.589 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 4.1855ms
2025-11-14 13:58:25.589 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:58:25.589 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 5.2779ms
2025-11-14 13:58:25.591 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 13:58:25.592 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:25.592 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:58:25.593 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:58:25.598 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:25.599 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 6.1797ms
2025-11-14 13:58:25.599 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:58:25.599 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 8.0135ms
2025-11-14 13:58:27.453 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/6 - null null
2025-11-14 13:58:27.453 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:27.453 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/6 - null null
2025-11-14 13:58:27.453 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:27.453 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/6 - 204 null null 0.4391ms
2025-11-14 13:58:27.454 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/6 - 204 null null 0.2718ms
2025-11-14 13:58:27.457 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/6 - application/json null
2025-11-14 13:58:27.458 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:27.460 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 13:58:27.461 +01:00 [INF] Route matched with {action = "GetAttempts", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAttempts(Int32) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:58:27.464 +01:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[@__quizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."QuizResultId", "u"."QuizId", "u"."Score", "u"."SubmittedAt", "u"."TimeUsedSeconds", "u"."UserName", "q"."QuizId", "q"."Title", "t"."QuestionId", "t"."ImageUrl", "t"."QuizId", "t"."Text", "t"."AnswerOptionId", "t"."IsCorrect", "t"."QuestionId0", "t"."Text0"
FROM "UserQuizResults" AS "u"
INNER JOIN "Quizzes" AS "q" ON "u"."QuizId" = "q"."QuizId"
LEFT JOIN (
    SELECT "q0"."QuestionId", "q0"."ImageUrl", "q0"."QuizId", "q0"."Text", "a"."AnswerOptionId", "a"."IsCorrect", "a"."QuestionId" AS "QuestionId0", "a"."Text" AS "Text0"
    FROM "Questions" AS "q0"
    LEFT JOIN "AnswerOptions" AS "a" ON "q0"."QuestionId" = "a"."QuestionId"
) AS "t" ON "q"."QuizId" = "t"."QuizId"
WHERE "u"."QuizId" = @__quizId_0
ORDER BY "u"."QuizResultId" DESC, "q"."QuizId", "t"."QuestionId"
2025-11-14 13:58:27.468 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'api.DAL.QuizDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-14 13:58:27.469 +01:00 [ERR] [QuizRepository] GetResultsForQuizAsync(6) failed: SQLite Error 1: 'no such column: u.SubmittedAt'.
2025-11-14 13:58:27.469 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizResultDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:27.470 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAttempts (api) in 9.0218ms
2025-11-14 13:58:27.470 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 13:58:27.470 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/6 - 200 2 application/json; charset=utf-8 12.6632ms
2025-11-14 13:58:27.472 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/6 - application/json null
2025-11-14 13:58:27.472 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:27.473 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 13:58:27.473 +01:00 [INF] Route matched with {action = "GetAttempts", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAttempts(Int32) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:58:27.479 +01:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[@__quizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."QuizResultId", "u"."QuizId", "u"."Score", "u"."SubmittedAt", "u"."TimeUsedSeconds", "u"."UserName", "q"."QuizId", "q"."Title", "t"."QuestionId", "t"."ImageUrl", "t"."QuizId", "t"."Text", "t"."AnswerOptionId", "t"."IsCorrect", "t"."QuestionId0", "t"."Text0"
FROM "UserQuizResults" AS "u"
INNER JOIN "Quizzes" AS "q" ON "u"."QuizId" = "q"."QuizId"
LEFT JOIN (
    SELECT "q0"."QuestionId", "q0"."ImageUrl", "q0"."QuizId", "q0"."Text", "a"."AnswerOptionId", "a"."IsCorrect", "a"."QuestionId" AS "QuestionId0", "a"."Text" AS "Text0"
    FROM "Questions" AS "q0"
    LEFT JOIN "AnswerOptions" AS "a" ON "q0"."QuestionId" = "a"."QuestionId"
) AS "t" ON "q"."QuizId" = "t"."QuizId"
WHERE "u"."QuizId" = @__quizId_0
ORDER BY "u"."QuizResultId" DESC, "q"."QuizId", "t"."QuestionId"
2025-11-14 13:58:27.483 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'api.DAL.QuizDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-14 13:58:27.484 +01:00 [ERR] [QuizRepository] GetResultsForQuizAsync(6) failed: SQLite Error 1: 'no such column: u.SubmittedAt'.
2025-11-14 13:58:27.485 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizResultDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:27.485 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAttempts (api) in 11.7747ms
2025-11-14 13:58:27.485 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 13:58:27.485 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/6 - 200 2 application/json; charset=utf-8 13.062ms
2025-11-14 13:58:28.269 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 13:58:28.269 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:28.270 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:58:28.270 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:58:28.273 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:28.273 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 3.5278ms
2025-11-14 13:58:28.273 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:58:28.273 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 4.7088ms
2025-11-14 13:58:28.277 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 13:58:28.278 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:28.279 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:58:28.279 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:58:28.284 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:28.285 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 5.6478ms
2025-11-14 13:58:28.285 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:58:28.286 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 8.4239ms
2025-11-14 13:58:29.308 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - null null
2025-11-14 13:58:29.309 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:29.310 +01:00 [INF] Executing endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:29.310 +01:00 [INF] Route matched with {action = "QuizList", controller = "QuizAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QuizList() on controller api.Controllers.QuizAPIController (api).
2025-11-14 13:58:29.318 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[api.Models.Quiz, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:29.318 +01:00 [INF] Executed action api.Controllers.QuizAPIController.QuizList (api) in 7.844ms
2025-11-14 13:58:29.318 +01:00 [INF] Executed endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:29.319 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - 200 377 application/json; charset=utf-8 10.2437ms
2025-11-14 13:58:29.321 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - null null
2025-11-14 13:58:29.321 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:29.321 +01:00 [INF] Executing endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:29.321 +01:00 [INF] Route matched with {action = "QuizList", controller = "QuizAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QuizList() on controller api.Controllers.QuizAPIController (api).
2025-11-14 13:58:29.327 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[api.Models.Quiz, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:29.328 +01:00 [INF] Executed action api.Controllers.QuizAPIController.QuizList (api) in 7.0203ms
2025-11-14 13:58:29.328 +01:00 [INF] Executed endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:29.329 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - 200 377 application/json; charset=utf-8 8.2636ms
2025-11-14 13:58:30.693 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/quizapi/12 - null null
2025-11-14 13:58:30.694 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:30.694 +01:00 [INF] Executing endpoint 'api.Controllers.QuizAPIController.GetQuiz (api)'
2025-11-14 13:58:30.703 +01:00 [INF] Route matched with {action = "GetQuiz", controller = "QuizAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuiz(Int32) on controller api.Controllers.QuizAPIController (api).
2025-11-14 13:58:30.725 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-11-14 13:58:30.731 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Models.Quiz'.
2025-11-14 13:58:30.742 +01:00 [INF] Executed action api.Controllers.QuizAPIController.GetQuiz (api) in 38.6385ms
2025-11-14 13:58:30.742 +01:00 [INF] Executed endpoint 'api.Controllers.QuizAPIController.GetQuiz (api)'
2025-11-14 13:58:30.742 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/quizapi/12 - 200 728 application/json; charset=utf-8 49.1396ms
2025-11-14 13:58:30.745 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/quizapi/12 - null null
2025-11-14 13:58:30.746 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:30.746 +01:00 [INF] Executing endpoint 'api.Controllers.QuizAPIController.GetQuiz (api)'
2025-11-14 13:58:30.746 +01:00 [INF] Route matched with {action = "GetQuiz", controller = "QuizAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuiz(Int32) on controller api.Controllers.QuizAPIController (api).
2025-11-14 13:58:30.748 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Models.Quiz'.
2025-11-14 13:58:30.749 +01:00 [INF] Executed action api.Controllers.QuizAPIController.GetQuiz (api) in 2.8681ms
2025-11-14 13:58:30.749 +01:00 [INF] Executed endpoint 'api.Controllers.QuizAPIController.GetQuiz (api)'
2025-11-14 13:58:30.749 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/quizapi/12 - 200 728 application/json; charset=utf-8 3.8494ms
2025-11-14 13:58:50.984 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/quizapi/update/12 - null null
2025-11-14 13:58:50.984 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:50.984 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/quizapi/update/12 - 204 null null 0.5466ms
2025-11-14 13:58:50.986 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5082/api/quizapi/update/12 - application/json 509
2025-11-14 13:58:50.986 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:50.987 +01:00 [INF] Executing endpoint 'api.Controllers.QuizAPIController.Update (api)'
2025-11-14 13:58:50.992 +01:00 [INF] Route matched with {action = "Update", controller = "QuizAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, api.DTOs.QuizDto) on controller api.Controllers.QuizAPIController (api).
2025-11-14 13:58:51.138 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Models.Quiz'.
2025-11-14 13:58:51.139 +01:00 [INF] Executed action api.Controllers.QuizAPIController.Update (api) in 146.3564ms
2025-11-14 13:58:51.139 +01:00 [INF] Executed endpoint 'api.Controllers.QuizAPIController.Update (api)'
2025-11-14 13:58:51.139 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5082/api/quizapi/update/12 - 200 941 application/json; charset=utf-8 153.3155ms
2025-11-14 13:58:51.175 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - null null
2025-11-14 13:58:51.175 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:51.176 +01:00 [INF] Executing endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:51.176 +01:00 [INF] Route matched with {action = "QuizList", controller = "QuizAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QuizList() on controller api.Controllers.QuizAPIController (api).
2025-11-14 13:58:51.181 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[api.Models.Quiz, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:51.181 +01:00 [INF] Executed action api.Controllers.QuizAPIController.QuizList (api) in 4.5439ms
2025-11-14 13:58:51.181 +01:00 [INF] Executed endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:51.181 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - 200 377 application/json; charset=utf-8 6.529ms
2025-11-14 13:58:51.183 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - null null
2025-11-14 13:58:51.183 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:51.183 +01:00 [INF] Executing endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:51.184 +01:00 [INF] Route matched with {action = "QuizList", controller = "QuizAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QuizList() on controller api.Controllers.QuizAPIController (api).
2025-11-14 13:58:51.186 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[api.Models.Quiz, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:51.187 +01:00 [INF] Executed action api.Controllers.QuizAPIController.QuizList (api) in 3.1047ms
2025-11-14 13:58:51.187 +01:00 [INF] Executed endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:51.187 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - 200 377 application/json; charset=utf-8 4.2522ms
2025-11-14 13:58:52.625 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/quizapi/12 - null null
2025-11-14 13:58:52.626 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:52.626 +01:00 [INF] Executing endpoint 'api.Controllers.QuizAPIController.GetQuiz (api)'
2025-11-14 13:58:52.626 +01:00 [INF] Route matched with {action = "GetQuiz", controller = "QuizAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuiz(Int32) on controller api.Controllers.QuizAPIController (api).
2025-11-14 13:58:52.629 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Models.Quiz'.
2025-11-14 13:58:52.630 +01:00 [INF] Executed action api.Controllers.QuizAPIController.GetQuiz (api) in 3.1797ms
2025-11-14 13:58:52.630 +01:00 [INF] Executed endpoint 'api.Controllers.QuizAPIController.GetQuiz (api)'
2025-11-14 13:58:52.630 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/quizapi/12 - 200 941 application/json; charset=utf-8 4.9791ms
2025-11-14 13:58:52.632 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/quizapi/12 - null null
2025-11-14 13:58:52.632 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:52.632 +01:00 [INF] Executing endpoint 'api.Controllers.QuizAPIController.GetQuiz (api)'
2025-11-14 13:58:52.632 +01:00 [INF] Route matched with {action = "GetQuiz", controller = "QuizAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuiz(Int32) on controller api.Controllers.QuizAPIController (api).
2025-11-14 13:58:52.634 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.Models.Quiz'.
2025-11-14 13:58:52.635 +01:00 [INF] Executed action api.Controllers.QuizAPIController.GetQuiz (api) in 2.1773ms
2025-11-14 13:58:52.635 +01:00 [INF] Executed endpoint 'api.Controllers.QuizAPIController.GetQuiz (api)'
2025-11-14 13:58:52.635 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/quizapi/12 - 200 941 application/json; charset=utf-8 3.1099ms
2025-11-14 13:58:52.645 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/images/China.pn - null null
2025-11-14 13:58:52.647 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/images/China.pn - 404 0 null 1.5525ms
2025-11-14 13:58:52.648 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5082/images/China.pn, Response status code: 404
2025-11-14 13:58:55.853 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - null null
2025-11-14 13:58:55.853 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:55.853 +01:00 [INF] Executing endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:55.854 +01:00 [INF] Route matched with {action = "QuizList", controller = "QuizAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QuizList() on controller api.Controllers.QuizAPIController (api).
2025-11-14 13:58:55.860 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[api.Models.Quiz, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:55.861 +01:00 [INF] Executed action api.Controllers.QuizAPIController.QuizList (api) in 6.7901ms
2025-11-14 13:58:55.861 +01:00 [INF] Executed endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:55.861 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - 200 377 application/json; charset=utf-8 8.314ms
2025-11-14 13:58:55.863 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - null null
2025-11-14 13:58:55.863 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:58:55.864 +01:00 [INF] Executing endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:55.864 +01:00 [INF] Route matched with {action = "QuizList", controller = "QuizAPI"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] QuizList() on controller api.Controllers.QuizAPIController (api).
2025-11-14 13:58:55.867 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[api.Models.Quiz, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:58:55.868 +01:00 [INF] Executed action api.Controllers.QuizAPIController.QuizList (api) in 3.8608ms
2025-11-14 13:58:55.868 +01:00 [INF] Executed endpoint 'api.Controllers.QuizAPIController.QuizList (api)'
2025-11-14 13:58:55.868 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/quizapi/quizlist - 200 377 application/json; charset=utf-8 5.2692ms
2025-11-14 13:59:31.178 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - null null
2025-11-14 13:59:31.179 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - null null
2025-11-14 13:59:31.179 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:31.179 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:31.179 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - 204 null null 0.5163ms
2025-11-14 13:59:31.179 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - 204 null null 0.7081ms
2025-11-14 13:59:31.182 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 13:59:31.182 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:31.183 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:59:31.183 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:59:31.187 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:59:31.187 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 4.2093ms
2025-11-14 13:59:31.187 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:59:31.187 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 5.5614ms
2025-11-14 13:59:31.190 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 13:59:31.190 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:31.191 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:59:31.192 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:59:31.196 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:59:31.196 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 4.4441ms
2025-11-14 13:59:31.196 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:59:31.196 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 6.6492ms
2025-11-14 13:59:48.590 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/Auth/register - null null
2025-11-14 13:59:48.591 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:48.592 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/Auth/register - 204 null null 1.9031ms
2025-11-14 13:59:48.594 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5082/api/Auth/register - application/json 92
2025-11-14 13:59:48.595 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:48.595 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Register (api)'
2025-11-14 13:59:48.595 +01:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(api.DTOs.RegisterDto) on controller api.Controllers.AuthController (api).
2025-11-14 13:59:48.747 +01:00 [INF] [AuthController] user studen registered with role Student
2025-11-14 13:59:48.747 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 13:59:48.748 +01:00 [INF] Executed action api.Controllers.AuthController.Register (api) in 152.3032ms
2025-11-14 13:59:48.748 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Register (api)'
2025-11-14 13:59:48.748 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5082/api/Auth/register - 200 53 application/json; charset=utf-8 153.8993ms
2025-11-14 13:59:53.303 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/Auth/login - null null
2025-11-14 13:59:53.304 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:53.304 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/Auth/login - 204 null null 0.3455ms
2025-11-14 13:59:53.305 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5082/api/Auth/login - application/json 46
2025-11-14 13:59:53.305 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:53.305 +01:00 [INF] Executing endpoint 'api.Controllers.AuthController.Login (api)'
2025-11-14 13:59:53.306 +01:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(api.DTOs.LoginDto) on controller api.Controllers.AuthController (api).
2025-11-14 13:59:53.419 +01:00 [INF] [AuthController] JWT token created for studen with roles Student
2025-11-14 13:59:53.419 +01:00 [INF] [AuthController] user authorised for studen
2025-11-14 13:59:53.419 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 13:59:53.420 +01:00 [INF] Executed action api.Controllers.AuthController.Login (api) in 114.0714ms
2025-11-14 13:59:53.420 +01:00 [INF] Executed endpoint 'api.Controllers.AuthController.Login (api)'
2025-11-14 13:59:53.420 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5082/api/Auth/login - 200 676 application/json; charset=utf-8 114.8959ms
2025-11-14 13:59:55.113 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - null null
2025-11-14 13:59:55.113 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:55.113 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - 204 null null 0.6906ms
2025-11-14 13:59:55.119 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - null null
2025-11-14 13:59:55.119 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:55.119 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - 204 null null 0.617ms
2025-11-14 13:59:55.119 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 13:59:55.120 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:55.122 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:59:55.122 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:59:55.126 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:59:55.127 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 4.5291ms
2025-11-14 13:59:55.127 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:59:55.127 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 7.5067ms
2025-11-14 13:59:55.128 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 13:59:55.129 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:55.129 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:59:55.129 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:59:55.133 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 13:59:55.133 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 4.0352ms
2025-11-14 13:59:55.134 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 13:59:55.134 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 5.2363ms
2025-11-14 13:59:56.102 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/2 - null null
2025-11-14 13:59:56.103 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:56.103 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/2 - 204 null null 0.6834ms
2025-11-14 13:59:56.103 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/2 - null null
2025-11-14 13:59:56.103 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:56.103 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/2 - 204 null null 0.267ms
2025-11-14 13:59:56.106 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/2 - application/json null
2025-11-14 13:59:56.106 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:56.107 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetQuiz (api)'
2025-11-14 13:59:56.114 +01:00 [INF] Route matched with {action = "GetQuiz", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuiz(Int32) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:59:56.119 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.DTOs.QuizDto'.
2025-11-14 13:59:56.121 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetQuiz (api) in 6.8186ms
2025-11-14 13:59:56.121 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetQuiz (api)'
2025-11-14 13:59:56.121 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/2 - 200 918 application/json; charset=utf-8 14.9424ms
2025-11-14 13:59:56.124 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/2 - application/json null
2025-11-14 13:59:56.124 +01:00 [INF] CORS policy execution successful.
2025-11-14 13:59:56.125 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetQuiz (api)'
2025-11-14 13:59:56.125 +01:00 [INF] Route matched with {action = "GetQuiz", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuiz(Int32) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 13:59:56.128 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.DTOs.QuizDto'.
2025-11-14 13:59:56.128 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetQuiz (api) in 3.1413ms
2025-11-14 13:59:56.128 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetQuiz (api)'
2025-11-14 13:59:56.129 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/2 - 200 918 application/json; charset=utf-8 4.5726ms
2025-11-14 14:00:03.716 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/submit - null null
2025-11-14 14:00:03.716 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:03.716 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/submit - 204 null null 0.4301ms
2025-11-14 14:00:03.718 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5082/api/takequizapi/submit - application/json 71
2025-11-14 14:00:03.719 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:03.719 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.Submit (api)'
2025-11-14 14:00:03.726 +01:00 [INF] Route matched with {action = "Submit", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Submit(api.DTOs.QuizSubmissionDto) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:00:03.750 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:00:03.753 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.Submit (api) in 26.5165ms
2025-11-14 14:00:03.753 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.Submit (api)'
2025-11-14 14:00:03.753 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5082/api/takequizapi/submit - 200 11 application/json; charset=utf-8 34.4652ms
2025-11-14 14:00:06.147 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/saveattempt - null null
2025-11-14 14:00:06.147 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:06.147 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/saveattempt - 204 null null 0.3034ms
2025-11-14 14:00:06.149 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5082/api/takequizapi/saveattempt - application/json 42
2025-11-14 14:00:06.149 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:06.149 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.SaveAttempt (api)'
2025-11-14 14:00:06.154 +01:00 [INF] Route matched with {action = "SaveAttempt", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAttempt(api.DTOs.QuizResultDto) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:00:06.204 +01:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserQuizResults" ("QuizId", "Score", "SubmittedAt", "TimeUsedSeconds", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "QuizResultId";
2025-11-14 14:00:06.218 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'api.DAL.QuizDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'table UserQuizResults has no column named SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'table UserQuizResults has no column named SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-14 14:00:06.226 +01:00 [ERR] [QuizRepository] AddResultAsync failed for result {"QuizResultId":0,"SubmittedAt":"2025-11-14T13:00:06.1708276Z","TimeUsedSeconds":7,"UserName":"studen","QuizId":2,"Quiz":{"QuizId":2,"Title":"Norway","Questions":[{"QuestionId":94,"Text":"What is the capital of Norway?","ImageUrl":null,"QuizId":2,"AnswerOptions":[{"AnswerOptionId":294,"Text":"Oslo","IsCorrect":true,"QuestionId":94,"$type":"AnswerOption"},{"AnswerOptionId":295,"Text":"Bergen","IsCorrect":false,"QuestionId":94,"$type":"AnswerOption"},{"AnswerOptionId":296,"Text":"Trondheim","IsCorrect":false,"QuestionId":94,"$type":"AnswerOption"}],"$type":"Question"},{"QuestionId":95,"Text":"What is a traditional Norwegian dish?","ImageUrl":null,"QuizId":2,"AnswerOptions":[{"AnswerOptionId":297,"Text":"Sushi","IsCorrect":false,"QuestionId":95,"$type":"AnswerOption"},{"AnswerOptionId":298,"Text":"Lutefisk","IsCorrect":true,"QuestionId":95,"$type":"AnswerOption"},{"AnswerOptionId":299,"Text":"Tacos","IsCorrect":false,"QuestionId":95,"$type":"AnswerOption"},{"AnswerOptionId":300,"Text":"Pizza","IsCorrect":false,"QuestionId":95,"$type":"AnswerOption"}],"$type":"Question"},{"QuestionId":96,"Text":"Which fjord is the deepest in Norway?","ImageUrl":null,"QuizId":2,"AnswerOptions":[{"AnswerOptionId":301,"Text":"Sognefjord","IsCorrect":true,"QuestionId":96,"$type":"AnswerOption"},{"AnswerOptionId":302,"Text":"Geirangerfjord","IsCorrect":false,"QuestionId":96,"$type":"AnswerOption"},{"AnswerOptionId":303,"Text":"Lysefjord","IsCorrect":false,"QuestionId":96,"$type":"AnswerOption"}],"$type":"Question"}],"$type":"Quiz"},"Score":2,"$type":"QuizResult"}: An error occurred while saving the entity changes. See the inner exception for details.
2025-11-14 14:00:06.231 +01:00 [ERR] [TakeQuizApiController] SaveAttempt failed: An error occurred while saving the entity changes. See the inner exception for details.
2025-11-14 14:00:06.231 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-11-14 14:00:06.232 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.SaveAttempt (api) in 77.8094ms
2025-11-14 14:00:06.232 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.SaveAttempt (api)'
2025-11-14 14:00:06.232 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5082/api/takequizapi/saveattempt - 500 null text/plain; charset=utf-8 83.5979ms
2025-11-14 14:00:10.859 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - null null
2025-11-14 14:00:10.860 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:10.861 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - 204 null null 1.5955ms
2025-11-14 14:00:10.868 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - null null
2025-11-14 14:00:10.868 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:10.868 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - 204 null null 0.535ms
2025-11-14 14:00:10.871 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 14:00:10.871 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:10.871 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:00:10.871 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:00:10.875 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:00:10.875 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 3.8021ms
2025-11-14 14:00:10.875 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:00:10.875 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 4.9172ms
2025-11-14 14:00:10.878 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 14:00:10.878 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:10.879 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:00:10.879 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:00:10.883 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:00:10.883 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 4.3617ms
2025-11-14 14:00:10.883 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:00:10.884 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 5.9858ms
2025-11-14 14:00:11.553 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/2 - null null
2025-11-14 14:00:11.553 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:11.553 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/2 - 204 null null 0.3486ms
2025-11-14 14:00:11.553 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/2 - null null
2025-11-14 14:00:11.553 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:11.554 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/2 - 204 null null 0.2473ms
2025-11-14 14:00:11.556 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/2 - application/json null
2025-11-14 14:00:11.556 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:11.556 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 14:00:11.557 +01:00 [INF] Route matched with {action = "GetAttempts", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAttempts(Int32) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:00:11.563 +01:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__quizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."QuizResultId", "u"."QuizId", "u"."Score", "u"."SubmittedAt", "u"."TimeUsedSeconds", "u"."UserName", "q"."QuizId", "q"."Title", "t"."QuestionId", "t"."ImageUrl", "t"."QuizId", "t"."Text", "t"."AnswerOptionId", "t"."IsCorrect", "t"."QuestionId0", "t"."Text0"
FROM "UserQuizResults" AS "u"
INNER JOIN "Quizzes" AS "q" ON "u"."QuizId" = "q"."QuizId"
LEFT JOIN (
    SELECT "q0"."QuestionId", "q0"."ImageUrl", "q0"."QuizId", "q0"."Text", "a"."AnswerOptionId", "a"."IsCorrect", "a"."QuestionId" AS "QuestionId0", "a"."Text" AS "Text0"
    FROM "Questions" AS "q0"
    LEFT JOIN "AnswerOptions" AS "a" ON "q0"."QuestionId" = "a"."QuestionId"
) AS "t" ON "q"."QuizId" = "t"."QuizId"
WHERE "u"."QuizId" = @__quizId_0
ORDER BY "u"."QuizResultId" DESC, "q"."QuizId", "t"."QuestionId"
2025-11-14 14:00:11.567 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'api.DAL.QuizDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-14 14:00:11.569 +01:00 [ERR] [QuizRepository] GetResultsForQuizAsync(2) failed: SQLite Error 1: 'no such column: u.SubmittedAt'.
2025-11-14 14:00:11.569 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizResultDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:00:11.569 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAttempts (api) in 12.5282ms
2025-11-14 14:00:11.569 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 14:00:11.570 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/2 - 200 2 application/json; charset=utf-8 13.7752ms
2025-11-14 14:00:11.572 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/2 - application/json null
2025-11-14 14:00:11.572 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:11.572 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 14:00:11.573 +01:00 [INF] Route matched with {action = "GetAttempts", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAttempts(Int32) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:00:11.576 +01:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[@__quizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."QuizResultId", "u"."QuizId", "u"."Score", "u"."SubmittedAt", "u"."TimeUsedSeconds", "u"."UserName", "q"."QuizId", "q"."Title", "t"."QuestionId", "t"."ImageUrl", "t"."QuizId", "t"."Text", "t"."AnswerOptionId", "t"."IsCorrect", "t"."QuestionId0", "t"."Text0"
FROM "UserQuizResults" AS "u"
INNER JOIN "Quizzes" AS "q" ON "u"."QuizId" = "q"."QuizId"
LEFT JOIN (
    SELECT "q0"."QuestionId", "q0"."ImageUrl", "q0"."QuizId", "q0"."Text", "a"."AnswerOptionId", "a"."IsCorrect", "a"."QuestionId" AS "QuestionId0", "a"."Text" AS "Text0"
    FROM "Questions" AS "q0"
    LEFT JOIN "AnswerOptions" AS "a" ON "q0"."QuestionId" = "a"."QuestionId"
) AS "t" ON "q"."QuizId" = "t"."QuizId"
WHERE "u"."QuizId" = @__quizId_0
ORDER BY "u"."QuizResultId" DESC, "q"."QuizId", "t"."QuestionId"
2025-11-14 14:00:11.582 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'api.DAL.QuizDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-14 14:00:11.584 +01:00 [ERR] [QuizRepository] GetResultsForQuizAsync(2) failed: SQLite Error 1: 'no such column: u.SubmittedAt'.
2025-11-14 14:00:11.584 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizResultDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:00:11.584 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAttempts (api) in 11.0748ms
2025-11-14 14:00:11.584 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 14:00:11.584 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/2 - 200 2 application/json; charset=utf-8 12.576ms
2025-11-14 14:00:12.304 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 14:00:12.305 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:12.305 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:00:12.305 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:00:12.312 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:00:12.312 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 6.4876ms
2025-11-14 14:00:12.312 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:00:12.312 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 7.9014ms
2025-11-14 14:00:12.314 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 14:00:12.314 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:12.314 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:00:12.314 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:00:12.318 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:00:12.319 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 4.2955ms
2025-11-14 14:00:12.319 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:00:12.319 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 5.4252ms
2025-11-14 14:00:17.507 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/2 - null null
2025-11-14 14:00:17.507 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:17.508 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/2 - 204 null null 0.4057ms
2025-11-14 14:00:17.508 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/2 - null null
2025-11-14 14:00:17.509 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:17.509 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/2 - 204 null null 0.6369ms
2025-11-14 14:00:17.511 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/2 - application/json null
2025-11-14 14:00:17.511 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:17.512 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetQuiz (api)'
2025-11-14 14:00:17.512 +01:00 [INF] Route matched with {action = "GetQuiz", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuiz(Int32) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:00:17.516 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.DTOs.QuizDto'.
2025-11-14 14:00:17.516 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetQuiz (api) in 3.7717ms
2025-11-14 14:00:17.516 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetQuiz (api)'
2025-11-14 14:00:17.517 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/2 - 200 918 application/json; charset=utf-8 5.2776ms
2025-11-14 14:00:17.519 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/2 - application/json null
2025-11-14 14:00:17.519 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:17.520 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetQuiz (api)'
2025-11-14 14:00:17.521 +01:00 [INF] Route matched with {action = "GetQuiz", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuiz(Int32) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:00:17.523 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.DTOs.QuizDto'.
2025-11-14 14:00:17.524 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetQuiz (api) in 2.9639ms
2025-11-14 14:00:17.524 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetQuiz (api)'
2025-11-14 14:00:17.524 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/2 - 200 918 application/json; charset=utf-8 4.721ms
2025-11-14 14:00:22.166 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/submit - null null
2025-11-14 14:00:22.166 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:22.166 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/submit - 204 null null 0.3343ms
2025-11-14 14:00:22.168 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5082/api/takequizapi/submit - application/json 71
2025-11-14 14:00:22.169 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:22.169 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.Submit (api)'
2025-11-14 14:00:22.169 +01:00 [INF] Route matched with {action = "Submit", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Submit(api.DTOs.QuizSubmissionDto) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:00:22.172 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-14 14:00:22.172 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.Submit (api) in 3.0121ms
2025-11-14 14:00:22.172 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.Submit (api)'
2025-11-14 14:00:22.172 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5082/api/takequizapi/submit - 200 11 application/json; charset=utf-8 4.2319ms
2025-11-14 14:00:23.065 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/saveattempt - null null
2025-11-14 14:00:23.066 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:23.066 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/saveattempt - 204 null null 0.2264ms
2025-11-14 14:00:23.067 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5082/api/takequizapi/saveattempt - application/json 42
2025-11-14 14:00:23.067 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:23.068 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.SaveAttempt (api)'
2025-11-14 14:00:23.068 +01:00 [INF] Route matched with {action = "SaveAttempt", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAttempt(api.DTOs.QuizResultDto) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:00:23.072 +01:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = Int32), @p4='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "UserQuizResults" ("QuizId", "Score", "SubmittedAt", "TimeUsedSeconds", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "QuizResultId";
2025-11-14 14:00:23.082 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'api.DAL.QuizDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'table UserQuizResults has no column named SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'table UserQuizResults has no column named SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-14 14:00:23.085 +01:00 [ERR] [QuizRepository] AddResultAsync failed for result {"QuizResultId":0,"SubmittedAt":"2025-11-14T13:00:23.0704534Z","TimeUsedSeconds":4,"UserName":"studen","QuizId":2,"Quiz":{"QuizId":2,"Title":"Norway","Questions":[{"QuestionId":94,"Text":"What is the capital of Norway?","ImageUrl":null,"QuizId":2,"AnswerOptions":[{"AnswerOptionId":294,"Text":"Oslo","IsCorrect":true,"QuestionId":94,"$type":"AnswerOption"},{"AnswerOptionId":295,"Text":"Bergen","IsCorrect":false,"QuestionId":94,"$type":"AnswerOption"},{"AnswerOptionId":296,"Text":"Trondheim","IsCorrect":false,"QuestionId":94,"$type":"AnswerOption"}],"$type":"Question"},{"QuestionId":95,"Text":"What is a traditional Norwegian dish?","ImageUrl":null,"QuizId":2,"AnswerOptions":[{"AnswerOptionId":297,"Text":"Sushi","IsCorrect":false,"QuestionId":95,"$type":"AnswerOption"},{"AnswerOptionId":298,"Text":"Lutefisk","IsCorrect":true,"QuestionId":95,"$type":"AnswerOption"},{"AnswerOptionId":299,"Text":"Tacos","IsCorrect":false,"QuestionId":95,"$type":"AnswerOption"},{"AnswerOptionId":300,"Text":"Pizza","IsCorrect":false,"QuestionId":95,"$type":"AnswerOption"}],"$type":"Question"},{"QuestionId":96,"Text":"Which fjord is the deepest in Norway?","ImageUrl":null,"QuizId":2,"AnswerOptions":[{"AnswerOptionId":301,"Text":"Sognefjord","IsCorrect":true,"QuestionId":96,"$type":"AnswerOption"},{"AnswerOptionId":302,"Text":"Geirangerfjord","IsCorrect":false,"QuestionId":96,"$type":"AnswerOption"},{"AnswerOptionId":303,"Text":"Lysefjord","IsCorrect":false,"QuestionId":96,"$type":"AnswerOption"}],"$type":"Question"}],"$type":"Quiz"},"Score":2,"$type":"QuizResult"}: An error occurred while saving the entity changes. See the inner exception for details.
2025-11-14 14:00:23.086 +01:00 [ERR] [TakeQuizApiController] SaveAttempt failed: An error occurred while saving the entity changes. See the inner exception for details.
2025-11-14 14:00:23.086 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-11-14 14:00:23.087 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.SaveAttempt (api) in 18.8923ms
2025-11-14 14:00:23.087 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.SaveAttempt (api)'
2025-11-14 14:00:23.087 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5082/api/takequizapi/saveattempt - 500 null text/plain; charset=utf-8 20.0103ms
2025-11-14 14:00:37.815 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - null null
2025-11-14 14:00:37.815 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - null null
2025-11-14 14:00:37.815 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:37.815 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:37.815 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - 204 null null 0.4039ms
2025-11-14 14:00:37.815 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - 204 null null 0.344ms
2025-11-14 14:00:37.818 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 14:00:37.818 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:37.819 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:00:37.819 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:00:37.822 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:00:37.823 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 3.9493ms
2025-11-14 14:00:37.823 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:00:37.823 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 4.974ms
2025-11-14 14:00:37.825 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 14:00:37.825 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:00:37.826 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:00:37.826 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:00:37.829 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:00:37.830 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 3.4192ms
2025-11-14 14:00:37.830 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:00:37.830 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 4.7844ms
2025-11-14 14:01:33.005 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/2 - null null
2025-11-14 14:01:33.005 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:01:33.005 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/2 - 204 null null 0.3463ms
2025-11-14 14:01:33.008 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/2 - null null
2025-11-14 14:01:33.008 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:01:33.008 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/2 - 204 null null 0.2607ms
2025-11-14 14:01:33.009 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/2 - application/json null
2025-11-14 14:01:33.010 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:01:33.011 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetQuiz (api)'
2025-11-14 14:01:33.011 +01:00 [INF] Route matched with {action = "GetQuiz", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuiz(Int32) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:01:33.013 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.DTOs.QuizDto'.
2025-11-14 14:01:33.014 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetQuiz (api) in 2.8046ms
2025-11-14 14:01:33.014 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetQuiz (api)'
2025-11-14 14:01:33.014 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/2 - 200 918 application/json; charset=utf-8 4.6586ms
2025-11-14 14:01:33.016 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/2 - application/json null
2025-11-14 14:01:33.016 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:01:33.017 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetQuiz (api)'
2025-11-14 14:01:33.017 +01:00 [INF] Route matched with {action = "GetQuiz", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuiz(Int32) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:01:33.019 +01:00 [INF] Executing OkObjectResult, writing value of type 'api.DTOs.QuizDto'.
2025-11-14 14:01:33.020 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetQuiz (api) in 2.727ms
2025-11-14 14:01:33.020 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetQuiz (api)'
2025-11-14 14:01:33.020 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/2 - 200 918 application/json; charset=utf-8 3.96ms
2025-11-14 14:01:36.049 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - null null
2025-11-14 14:01:36.049 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:01:36.050 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - 204 null null 0.432ms
2025-11-14 14:01:36.050 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - null null
2025-11-14 14:01:36.050 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:01:36.050 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/takequizlist - 204 null null 0.2431ms
2025-11-14 14:01:36.052 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 14:01:36.053 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:01:36.053 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:01:36.053 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:01:36.058 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:01:36.059 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 5.4468ms
2025-11-14 14:01:36.059 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:01:36.059 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 6.4228ms
2025-11-14 14:01:36.062 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 14:01:36.062 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:01:36.063 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:01:36.063 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:01:36.067 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:01:36.067 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 4.0851ms
2025-11-14 14:01:36.068 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:01:36.068 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 5.5666ms
2025-11-14 14:01:37.008 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/2 - null null
2025-11-14 14:01:37.008 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:01:37.008 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/2 - 204 null null 0.2864ms
2025-11-14 14:01:37.008 +01:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/2 - null null
2025-11-14 14:01:37.008 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:01:37.009 +01:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5082/api/takequizapi/attempts/2 - 204 null null 0.1527ms
2025-11-14 14:01:37.013 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/2 - application/json null
2025-11-14 14:01:37.013 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:01:37.013 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 14:01:37.014 +01:00 [INF] Route matched with {action = "GetAttempts", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAttempts(Int32) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:01:37.016 +01:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[@__quizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."QuizResultId", "u"."QuizId", "u"."Score", "u"."SubmittedAt", "u"."TimeUsedSeconds", "u"."UserName", "q"."QuizId", "q"."Title", "t"."QuestionId", "t"."ImageUrl", "t"."QuizId", "t"."Text", "t"."AnswerOptionId", "t"."IsCorrect", "t"."QuestionId0", "t"."Text0"
FROM "UserQuizResults" AS "u"
INNER JOIN "Quizzes" AS "q" ON "u"."QuizId" = "q"."QuizId"
LEFT JOIN (
    SELECT "q0"."QuestionId", "q0"."ImageUrl", "q0"."QuizId", "q0"."Text", "a"."AnswerOptionId", "a"."IsCorrect", "a"."QuestionId" AS "QuestionId0", "a"."Text" AS "Text0"
    FROM "Questions" AS "q0"
    LEFT JOIN "AnswerOptions" AS "a" ON "q0"."QuestionId" = "a"."QuestionId"
) AS "t" ON "q"."QuizId" = "t"."QuizId"
WHERE "u"."QuizId" = @__quizId_0
ORDER BY "u"."QuizResultId" DESC, "q"."QuizId", "t"."QuestionId"
2025-11-14 14:01:37.022 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'api.DAL.QuizDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-14 14:01:37.024 +01:00 [ERR] [QuizRepository] GetResultsForQuizAsync(2) failed: SQLite Error 1: 'no such column: u.SubmittedAt'.
2025-11-14 14:01:37.024 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizResultDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:01:37.024 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAttempts (api) in 10.6085ms
2025-11-14 14:01:37.024 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 14:01:37.024 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/2 - 200 2 application/json; charset=utf-8 11.8695ms
2025-11-14 14:01:37.028 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/2 - application/json null
2025-11-14 14:01:37.028 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:01:37.029 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 14:01:37.029 +01:00 [INF] Route matched with {action = "GetAttempts", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAttempts(Int32) on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:01:37.031 +01:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[@__quizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."QuizResultId", "u"."QuizId", "u"."Score", "u"."SubmittedAt", "u"."TimeUsedSeconds", "u"."UserName", "q"."QuizId", "q"."Title", "t"."QuestionId", "t"."ImageUrl", "t"."QuizId", "t"."Text", "t"."AnswerOptionId", "t"."IsCorrect", "t"."QuestionId0", "t"."Text0"
FROM "UserQuizResults" AS "u"
INNER JOIN "Quizzes" AS "q" ON "u"."QuizId" = "q"."QuizId"
LEFT JOIN (
    SELECT "q0"."QuestionId", "q0"."ImageUrl", "q0"."QuizId", "q0"."Text", "a"."AnswerOptionId", "a"."IsCorrect", "a"."QuestionId" AS "QuestionId0", "a"."Text" AS "Text0"
    FROM "Questions" AS "q0"
    LEFT JOIN "AnswerOptions" AS "a" ON "q0"."QuestionId" = "a"."QuestionId"
) AS "t" ON "q"."QuizId" = "t"."QuizId"
WHERE "u"."QuizId" = @__quizId_0
ORDER BY "u"."QuizResultId" DESC, "q"."QuizId", "t"."QuestionId"
2025-11-14 14:01:37.036 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'api.DAL.QuizDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such column: u.SubmittedAt'.
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements()+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-11-14 14:01:37.038 +01:00 [ERR] [QuizRepository] GetResultsForQuizAsync(2) failed: SQLite Error 1: 'no such column: u.SubmittedAt'.
2025-11-14 14:01:37.038 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizResultDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:01:37.038 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAttempts (api) in 9.2082ms
2025-11-14 14:01:37.038 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAttempts (api)'
2025-11-14 14:01:37.038 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/attempts/2 - 200 2 application/json; charset=utf-8 10.4798ms
2025-11-14 14:01:37.737 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 14:01:37.737 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:01:37.737 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:01:37.738 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:01:37.743 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:01:37.743 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 5.3714ms
2025-11-14 14:01:37.743 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:01:37.743 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 6.8251ms
2025-11-14 14:01:37.747 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - application/json null
2025-11-14 14:01:37.747 +01:00 [INF] CORS policy execution successful.
2025-11-14 14:01:37.748 +01:00 [INF] Executing endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:01:37.748 +01:00 [INF] Route matched with {action = "GetAllQuizzes", controller = "TakeQuizApi"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllQuizzes() on controller api.Controllers.TakeQuizApiController (api).
2025-11-14 14:01:37.751 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[api.DTOs.QuizDto, api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-14 14:01:37.751 +01:00 [INF] Executed action api.Controllers.TakeQuizApiController.GetAllQuizzes (api) in 3.2642ms
2025-11-14 14:01:37.751 +01:00 [INF] Executed endpoint 'api.Controllers.TakeQuizApiController.GetAllQuizzes (api)'
2025-11-14 14:01:37.752 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5082/api/takequizapi/takequizlist - 200 377 application/json; charset=utf-8 4.4601ms
2025-11-14 14:02:58.948 +01:00 [INF] Application is shutting down...
